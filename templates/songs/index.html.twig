{% extends 'base.html.twig' %}

{% block title %}Hello SongsController!{% endblock %}

{% block body %}
{% if songs is defined and songs is not null %}
    <p><a href="songs_vote">{{ 'Rate a song' }}</a></p>
    <h3>{{ 'Last mounth top songs list' }}</h3>
    {% for song in songs %}
    <p>
        {{ song.name|e }} -
        {% if rateData[song.id] is defined and rateData[song.id] is not null %}
            <b>{{ 'Rating' }}: ({{ rateData[song.id].avg_rating|number_format(1) }}/10)</b>
            <b>{{ 'Voters' }}: {{ rateData[song.id].count }}</b>
        {% endif %}
    </p>
    {% endfor %}
{% endif %}
{% endblock %}

